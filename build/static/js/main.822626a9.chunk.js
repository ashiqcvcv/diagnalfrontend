(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{33:function(e,t,n){},38:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(9),r=n.n(o),i=(n(33),n(3)),s=(n(38),n(11)),u=function(e){var t=Object(c.useState)(!1),n=Object(s.a)(t,2),a=n[0],o=n[1],r=Object(c.useRef)(),i=Object(c.useRef)(new IntersectionObserver((function(e){var t=e[0];t&&o(t.isIntersecting)})));return Object(c.useEffect)((function(){a&&e()}),[a]),Object(c.useEffect)((function(){var e=i.current,t=r.current;return e&&t&&e.observe(t),function(){e.disconnect()}})),{elementRef:r}},l="PAGE_SCROLL",b=n(1),d=function(e){var t=e.books,n=u((function(){c({type:l})})).elementRef,c=(Object(i.c)((function(e){return e.pageno})),Object(i.b)());return Object(b.jsx)("div",{className:"max-w-4xl py-5 px-4 sm:py-24 sm:px-6",children:Object(b.jsx)("div",{className:"grid grid-cols-3 gap-y-2 gap-x-6 sm:grid-cols-2 overflow-auto",children:(t||[]).map((function(e,c){return Object(b.jsxs)("div",{className:"group relative",ref:c===t.length-1?n:null,children:[Object(b.jsx)("div",{className:"w-full min-h-80 bg-gray-200 aspect-w-1 aspect-h-1",children:Object(b.jsx)("img",{src:(a=e["poster-image"],"/Slices/".concat(a)),alt:"cover.imageAlt",className:"w-full h-full object-center object-cover lg:w-full lg:h-full"})}),Object(b.jsx)("div",{className:"flex justify-between",children:Object(b.jsx)("div",{children:Object(b.jsx)("p",{className:"text-sm text-gray-500",children:e.name})})})]},c);var a}))})})},p=n(23),j=n(24),f=n(28),O=n(26),g=function(e){Object(f.a)(n,e);var t=Object(O.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"bg-navbar bg-cover fixed z-10 h-20",children:[Object(b.jsx)("button",{className:"ml-3 mt-1",children:Object(b.jsx)("img",{src:"/Slices/Back.png",alt:"back",width:"20px",height:"20px"})}),Object(b.jsx)("input",{type:"text",className:"h-7 w-76 pr-8 pl-5 rounded z-0 focus:shadow focus:outline-none bg-opacity-0",placeholder:"Search anything..."}),Object(b.jsx)("button",{className:"ml-14 mt-2 pr-2",children:Object(b.jsx)("img",{src:"/Slices/search.png",alt:"search",width:"20px",height:"20px"})})]})}}]),n}(c.Component),h=g,v=n(40).default.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/diagnal",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,timeout:2e4,headers:{"Content-Type":"application/json"}}),m="https://diagnalbackend.herokuapp.com/api",x="GET_BOOKS_REQUEST",y="GET_BOOKS_SUCCESS",S="GET_BOOKS_FAILURE",E=function(e){return{api:!0,types:[x,y,S],request:function(){return function(e){return v.get(m,{params:{no:e}})}(e)},formatRes:function(t){var n,c;return{books:(null===t||void 0===t||null===(n=t.data)||void 0===n||null===(c=n.page["content-items"])||void 0===c?void 0:c.content)||[],pageno:e}},onSuccess:function(){},onFailure:function(){},showFailureMessage:!0}};var _=function(){var e=Object(i.c)((function(e){return e.books})),t=e.loading,n=e.data,a=e.pageno,o=Object(i.c)((function(e){return e.pageno})),r=Object(i.b)();return Object(c.useEffect)((function(){n||(console.log("useefect 1"),r(E(1)))}),[n,r]),Object(c.useEffect)((function(){console.log(a,o),o<=3&&a!==o&&(r(E(o)),console.log("useefect 2"))}),[r,o,a]),Object(b.jsxs)("div",{className:"bg-black",children:[Object(b.jsx)(h,{}),Object(b.jsx)(d,{books:n,loading:t})]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,60)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),o(e),r(e)}))},R=n(27),T=n(5),k=n(25);var N=n(4),C={loading:!1,data:null,pageno:1},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(N.a)(Object(N.a)({},e),{},{loading:!0});case y:return Object(N.a)(Object(N.a)({},e),{},{data:(e.data||[]).concat(t.payload.books),loading:!1,pageno:t.payload.pageno});case S:return Object(N.a)(Object(N.a)({},e),{},{loading:!1});default:return e}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return t.type===l?e+1:e},A=Object(T.combineReducers)({books:F,pageno:L});var B=function(e){var t,n=[(t=v,function(e){var n=e.dispatch;return e.getState,function(e){return function(c){if(c.api){var a=Object(s.a)(c.types,3),o=a[0],r=a[1],i=a[2];return n({type:o}),void c.request(t).then((function(e){n({type:r,payload:c.formatRes?c.formatRes(e):e})})).catch((function(e){c.showFailureMessage,n({type:i})}))}return e(c)}}})],c=[T.applyMiddleware.apply(void 0,Object(R.a)(n))],a=k.composeWithDevTools.apply(void 0,c);return Object(T.createStore)(A,e,a)}({});r.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(i.a,{store:B,children:Object(b.jsx)(_,{})})}),document.getElementById("root")),w()}},[[59,1,2]]]);
//# sourceMappingURL=main.822626a9.chunk.js.map